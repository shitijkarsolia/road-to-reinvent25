Here is the comprehensive project design document for Lucky Loo. You can copy and paste this directly into Kiro or your project management tool to generate your task list.

ðŸŽ° Project Spec: Lucky Loo

"The High-Stakes Restroom Finder"

1. The Problem Statement

In Las Vegas, nothing is free, and everything is a gamble. Yet, traditional bathroom finder apps give away their data for free. They are boring, utilitarian, and lack the adrenaline rush of the Vegas Strip.
Furthermore, "Public" restrooms are overrun. We need a system that ensures only the most desperate and luckiest individuals gain access to the porcelain throne.

2. The Solution (Delightfully Impractical)

Lucky Loo is a crowdsourced bathroom finder that encrypts the location and door codes of restrooms. To unlock them, the user must play a high-stakes game:

The Buy-In: The user must upload a selfie proving their "Desperation Level" (analyzed by AI).

The Gamble: If they are desperate enough, they get to spin the "Slot Machine of Relief."

The Payout:

Jackpot (777): Access Granted. Map unblurs. Door code revealed.

Bust: Access Denied. The AI mocks them and tells them to "Hold it."

3. Technical Architecture

Frontend: React (Vite) + Tailwind CSS (Mobile First).

AI Vision: AWS Rekognition (DetectFaces) to analyze "Desperation" (Fear/Distressed emotions).

AI Personality: AWS Bedrock (Claude 3 Haiku) to generate the "Pit Boss" persona who roasts the user if they lose.

Backend: AWS Lambda (Node.js) via API Gateway.

Database: Hardcoded JSON (for the hackathon) containing 5 "Vegas Restrooms" with fake door codes.

4. Feature Specifications
Feature A: The "Blur Map" (Landing Page)

Visual: A Google Map/Mapbox style view, but all pins are locked with padlock icons. The map itself is slightly blurred.

Action: Clicking a pin opens the "Pit Boss" Modal.

Text: "Feeling Lucky? Prove you need it."

Feature B: The "Desperation Check" (Input)

Action: User clicks "I NEED TO GO."

Camera: Opens webcam/phone camera.

Instruction: "Show me your 'Emergency Face'. If you look calm, you don't get in."

Logic:

Send image to AWS Rekognition.

Check FaceDetails[0].Emotions.

If CONFUSED, FEAR, or ANGRY > 80% confidence 
â†’
â†’
 Pass.

If HAPPY or CALM > 50% confidence 
â†’
â†’
 Fail.

Feature C: The "Slot Machine" (The Core Mechanic)

Trigger: Only runs if Feature B passes.

Visual: A CSS animation of a slot machine spinning.

Symbols: ðŸš½ (Toilet), ðŸ§» (Paper), ðŸ§¼ (Soap), ðŸŒµ (Cactus - Fail).

Logic:

The "Odds" are determined by the Desperation Score.

High Desperation = 90% chance of winning.

Low Desperation = 10% chance of winning.

Feature D: The "Pit Boss" (Bedrock Agent)

Role: The announcer.

Win Message: "Jackpot! The Porcelain God smiles upon you. Code: 1234."

Lose Message: "House wins. Better luck next time. Try holding it." (Generated by Bedrock).

5. Implementation Plan (5-Hour Bus Sprint)
ðŸ›‘ Hour 1: Setup & Skeleton

Task 1.1 (All): Clone repo, npm install, ensure AWS credentials are active in .env.

Task 1.2 (Frontend): Use Kiro to Vibe Code the UI.

Prompt: "Create a mobile-responsive React app with a dark 'Casino' theme. Gold and Black colors. Center a big button that says 'FEELING LUCKY?'"

Task 1.3 (Backend): Deploy a "Hello World" Lambda function to ensure API Gateway is working.

ðŸ“¸ Hour 2: The Vision System (Rekognition)

Task 2.1 (Frontend): Implement react-webcam to capture a screenshot.

Task 2.2 (Backend): Create Lambda verifyDesperation.

Input: Base64 Image.

Action: Call rekognition.detectFaces({ Attributes: ['ALL'] }).

Output: JSON { isDesperate: boolean, score: number }.

Task 2.3 (Kiro): Use Kiro to write the Rekognition parsing logic.

Prompt: "Write a JavaScript function that takes AWS Rekognition output and returns TRUE if the emotion 'Fear' or 'Distressed' is highest."

ðŸŽ° Hour 3: The Slot Machine (Logic & UI)

Task 3.1 (Frontend): Build the Slot Machine component.

Cheat: Don't build a real physics slot machine. Just use CSS animations that cycle through emojis and stop on a result array.

Task 3.2 (Backend): Create Lambda spinWheel.

Input: desperationScore.

Logic: Math.random(). If random < score, return WIN. Else LOSE.

ðŸ—£ï¸ Hour 4: The Personality (Bedrock)

Task 4.1 (Backend): Integrate AWS Bedrock.

Prompt: "You are a rude Vegas Pit Boss. The user just lost a gamble to use the bathroom. Roast them in one sentence."

Task 4.2 (Frontend): Display the Bedrock text in a "Speech Bubble" next to a Pit Boss avatar.

âœ¨ Hour 5: Polish & Demo Prep

Task 5.1 (Visuals): Add "Confetti" effect on Win (use react-confetti). Add "Screen Shake" on Lose.

Task 5.2 (Sound): Add Slot Machine sound effects (mp3).

Task 5.3 (Hardcode): Create a "Demo Mode" toggle.

If enabled, the camera always detects desperation and the wheel always wins. (CRITICAL FOR STAGE DEMO).

6. Kiro Prompts (Copy/Paste these into Kiro)

For the UI:

"I need a 'Vegas Nightclub' aesthetic. Dark background, neon purple and gold accents. The font should be bold and flashy. Create a CSS module for a 'Spinning Wheel' animation."

For the Backend Logic:

"Write an AWS Lambda handler in Node.js 18. It should receive a base64 image, send it to Rekognition, and calculate a 'Desperation Score' based on the confidence levels of negative emotions. Return the score."

For the Bedrock Persona:

"Create a system prompt for Claude 3 Haiku. The persona is 'Lucky', a cynical toilet attendant in Las Vegas. He speaks in gambling metaphors."

7. The 60-Second Demo Script

0:00 - 0:10 (The Hook)
"We all know the struggle of finding a bathroom in Vegas. But at AWS, we believe you shouldn't get relief unless you earn it. Introducing Lucky Loo: The only Zero-Trust, High-Stakes bathroom finder."

0:10 - 0:30 (The Fail)
"I need to go. I open the app."
(User smiles at camera)
"I try to enter."
(App flashes RED. Sound: Buzzer)
"ACCESS DENIED. The AI Pit Boss says: 'You look too calm. Stop bluffing.'"

0:30 - 0:50 (The Win)
"Okay, I'm desperate."
(User makes a terrified face)
"AWS Rekognition analyzes my micro-expressions..."
(App flashes GOLD. Sound: Slot Machine Ding-Ding-Ding)
"JACKPOT! Desperation confirmed. Door Code: 7-7-7. I'm in."

0:50 - 1:00 (The Close)
"Lucky Loo. Because in Vegas, even a flush is a gamble."